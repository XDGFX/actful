<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>actful - alternative products for a better world</title>

  <!-- Scripts for style, CSS, etc -->
  <link rel="stylesheet" href="bulma.css">
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Scroll reveal and settings -->
  <script src="https://unpkg.com/scrollreveal"></script>
  <script>
  ScrollReveal({
    reset: true,
    scale: 0.95,
    duration: 1000
  });
  </script>

  <!-- Custom font for title -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">

  <!-- Custom selection colours... oooh fancy! -->
  <style> ::-moz-selection { /* Code for Firefox */
    color: white;
    background: #00d1b2;
  }

  ::selection {
    color: white;
    background: #00d1b2;
  }

  a:link {
    color: hsl(0, 0%, 21%);
  }

  a:hover {
    color: #00d1b2;
  }

  html.sr .productList {
    visibility: hidden;
  }

  </style>

  <!-- Getting page from url parameter -->
  <script>
  var category = decodeURIComponent(window.location.search.substring(1).replace('+','%20'));
  </script>

</head>

<body>
  <section class="section">
    <div class="container">

      <!-- Title -->
      <h1 style="font-family: 'Montserrat', sans-serif; font-weight: bold; font-size: 500%; text-align: center">
        actful<font color="#00d1b2">.</font></h1>

        <!-- Subtitle -->
        <p class="subtitle" id="category" style="text-align: center; margin-top: -1.5%; margin-bottom: 3%;"></p>

        <script>
        document.getElementById("category").innerHTML = category;
        </script>

        <script type="text/javascript" src="products.json"></script>

        <div class="container" style="max-width: 600px;">
          <table id="productTable" style="width:100%"></table>
        </div>

        <script>

        var displayProducts = products.filter(a=>a.category == category);

        var outputList = "<tr>"
        for (value in displayProducts) {

          var productName = displayProducts[value].productname;
          var productBrand = displayProducts[value].brand;
          var productDescription = displayProducts[value].description;
          var amazonURL = displayProducts[value].amazonurl;
          var brandURL = displayProducts[value].brandurl;

          var outputList = outputList + "<td> waht" // Image url append here
          + " </td> <td class = \"productList\"> <strong>" + productName
          + "</strong> by " + productBrand + "<br>"
          + productDescription + "</td> </tr>";

        };
        document.getElementById("productTable").innerHTML = outputList;

        </script>

      </div>

    </section>

    <script>
    ScrollReveal().reveal('.productList', {
      interval: 80,
      delay: 0
    });
    </script>

  </body>

  </html>
